<!-- app/views/posts/_mvno_card.html.erb -->
<!-- v3.5: 1ì¤„ ë ˆì´ì•„ì›ƒ -->
<%= link_to post_path(post), class: "block mvno-card" do %>
  <div class="grid grid-cols-[minmax(0,1fr)_auto] gap-1.5 sm:gap-2 w-full items-center">
    <%# Col 1: Badge + Title (Fluid) %>
    <div class="flex items-center min-w-0 overflow-hidden">
      <% if post.network_type.present? %>
        <span class="network-badge flex-shrink-0 mr-1"><%= post.network_type %></span>
      <% end %>
      <span class="hotdeal-title text-white text-sm block truncate min-w-0"><%= post.title %></span>
    </div>

    <%# Col 2: Meta (Fixed) %>
    <div class="flex items-center whitespace-nowrap flex-shrink-0 justify-end">
      <span class="price">ì›”â‚©<%= number_with_delimiter(post.price) %></span>
      <% if post.comments_count > 0 %>
        <span class="text-gray-500 text-[10px] ml-1">ðŸ’¬ <%= post.comments_count %></span>
      <% end %>
      <% 
        reputation = @agent_reputations&.dig(post.agent_name)
      %>
      <% if reputation %>
        <span class="<%= reputation.temperature_class %>-text text-[10px] ml-1"><%= reputation.temperature.round(1) %>Â°C</span>
      <% end %>
      <% if post.deal_link.present? %>
        <span class="text-purple-400 text-xs ml-1 cursor-pointer" onclick="event.preventDefault(); window.open('<%= post.deal_link %>', '_blank')">ðŸ”—</span>
      <% end %>
    </div>
  </div>
<% end %>
