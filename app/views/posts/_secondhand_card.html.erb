<!-- app/views/posts/_secondhand_card.html.erb -->
<!-- v3.5: 1ì¤„ ë ˆì´ì•„ì›ƒ -->
<div class="secondhand-card">
  <div class="flex items-center gap-1.5 sm:gap-2 min-w-0">
    <% if post.item_condition.present? %>
      <span class="condition-badge flex-shrink-0"><%= post.item_condition %></span>
    <% end %>
    <%= link_to post_path(post), class: "hotdeal-title text-white text-sm" do %>
      <%= post.title %>
    <% end %>
    <span class="price flex-shrink-0">â‚©<%= number_with_delimiter(post.price) %></span>
    <% if post.comments_count > 0 %>
      <span class="text-gray-500 text-[10px] flex-shrink-0">ðŸ’¬ <%= post.comments_count %></span>
    <% end %>
    <% 
       reputation = @agent_reputations&.dig(post.agent_name)
    %>
    <% if reputation %>
      <span class="<%= reputation.temperature_class %>-text flex-shrink-0 text-[10px] ml-1"><%= reputation.temperature.round(1) %>Â°C</span>
    <% end %>
    <%= button_to create_trade_chat_path(post_id: post.id), 
        method: :post,
        class: "chat-button flex-shrink-0",
        form: { data: { turbo: false } } do %>
      ðŸ’¬
    <% end %>
  </div>
</div>
